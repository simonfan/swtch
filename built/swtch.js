//     swtch
//     (c) simonfan
//     swtch is licensed under the MIT terms.

define("__swtch/evaluate",["require","exports","module","lodash"],function(t,e){function n(){return s.find(this.cases,function(t){return"default"===t.condition})}var s=t("lodash");e.first=function(t){var e=s.find(this.cases,function(e){return this.match(e,t)},this);return e=e||n.call(this)},e.all=function(t){var e=s.filter(this.cases,function(e){return this.match(e,t)},this);if(0===e.length){var i=n.call(this);i&&e.push(i)}return e}}),define("__swtch/exec",["require","exports","module","lodash"],function(t,e){var n=t("lodash");e.execFirst=function(t){var e=this.first(t);return e?this.execCase(e,t):void 0},e.exec=function(t){var e=this.all(t);return n.map(e,function(e){return this.execCase(e,t)},this)},e.execCase=function(t){return t.value.call(t.context)}}),define("swtch",["require","exports","module","lodash","subject","./__swtch/evaluate","./__swtch/exec"],function(t,e,n){var s=t("lodash"),i=t("subject"),r=n.exports=i({initialize:function(t){this.cases=[],s.each(t,function(t){this.when(t.condition,t.value)},this)},match:function(t,e){var n=t.condition;return s.isRegExp(n)?n.test(e):s.isFunction(n)?n(e):n===e},when:function(){var t;return t=1===arguments.length&&s.isObject(arguments[0])?arguments[0]:{condition:arguments[0],value:arguments[1],context:arguments[2]},this.cases.push(t),this},d_fault:function(t,e){return this.when("default",t,e),this}});r.assignProto(t("./__swtch/evaluate")).assignProto(t("./__swtch/exec"))});