//     swtch
//     (c) simonfan
//     swtch is licensed under the MIT terms.

define("__swtch/find",["require","exports","module","lodash"],function(t,n){function e(){return i.find(this.cases,function(t){return"default"===t.condition})}var i=t("lodash");n.findFirst=function(t){var n=i.find(this.cases,function(n){return this.match(n,t)},this);return n=n||e.call(this)},n.findAll=function(t){var n=i.filter(this.cases,function(n){return this.match(n,t)},this);if(0===n.length){var s=e.call(this);s&&n.push(s)}return n}}),define("__swtch/exec",["require","exports","module","lodash"],function(t,n){var e=t("lodash");n.execFirst=function(t){var n=this.findFirst(t);return n?this.execCase(n,t):void 0},n.exec=function(t){var n=this.findAll(t);return e.map(n,function(n){return this.execCase(n,t)},this)},n.execCase=function(t){return t.value.call(t.context)}}),define("swtch",["require","exports","module","lodash","subject","./__swtch/find","./__swtch/exec"],function(t,n,e){var i=t("lodash"),s=t("subject"),r=e.exports=s({initialize:function(t){this.cases=[],i.each(t,function(t){this.when(t.condition,t.value)},this)},match:function(t,n){var e=t.condition;return i.isRegExp(e)?e.test(n):i.isFunction(e)?e(n):e===n},when:function(){var t;return t=1===arguments.length&&i.isObject(arguments[0])?arguments[0]:{condition:arguments[0],value:arguments[1],context:arguments[2]},this.cases.push(t),this},d_fault:function(t,n){return this.when("default",t,n),this}});r.assignProto(t("./__swtch/find")).assignProto(t("./__swtch/exec"))});